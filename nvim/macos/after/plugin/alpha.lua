local status_ok, alpha = pcall(require, "alpha")
if not status_ok then
	return
end

local function lineToStartGradient(lines)
	local out = {}
	for i, line in ipairs(lines) do
		table.insert(out, { hi = "StartLogo"..i, line = line})
	end
	return out
end

local function lineToStartPopGradient(lines)
	local out = {}
	for i, line in ipairs(lines) do
		local hi = "StartLogo" .. i
		if i <= 6 then
			hi = "StartLogo" .. i + 6
		elseif i > 6 and i <= 12 then
			hi = "StartLogoPop" .. i - 6
		end
		table.insert(out, { hi = hi, line = line})
	end
	return out
end

local function lineToStartShiftGradient(lines)
	local out = {}
	for i, line in ipairs(lines) do
		local n = i
		if i > 6 and i <= 12 then
			n = i + 6
		elseif i > 12 then
			n = i - 6
		end
		table.insert(out, { hi = "StartLogo"..n, line = line})
	end
	return out
end


local header_art = {
	{
		[[   ,             ,   ]],
		[[   :===.     .===:   ]],
		[[   |/V\|     |/V\|   ]],
		[[   ||||;  |  |||||   ]],
		[[   |||||__T__|||||   ]],
		[[   |;:;|.,.,.|;:;|   ]],
		[[   |:;:|;:;:;|:;:|   ]],
		[[   |.o.| ,=. |,o.|   ]],
		[[   |/V\|({o})|/V\|   ]],
		[[   ||||| `=' |||||   ]],
		[[   |;:;|:;;;:|:::|   ]],
		[[   |,".|,:::.|,".|   ]],
		[[   ||:|||:::|||:||   ]],
		[[---''"'-'"""'-'"''---]],
	},
	{
		[[       |                                ]],
		[[       0                                ]],
		[[       |                                ]],
		[[       |                                ]],
		[[       I                                ]],
		[[       l                                ]],
		[[      .H.                               ]],
		[[      ;M;                               ]],
		[[     ~=#=~                              ]],
		[[     // \\                              ]],
		[[    .=   =.              ________       ]],
		[[    [#####]              |______|       ]],
		[[   //,-^-,\\             |*(  )*|       ]],
		[[__//_______\\_#_ _##_____|O|  |O|_______]],
	},
    {
		[[                                                            U                       ]],
		[[                                                            |                       ]],
		[[                                                            |                       ]],
		[[                                                            I                       ]],
		[[                                                            |                       ]],
		[[                                                            I                       ]],
		[[                                                            H                       ]],
		[[                                                           .H;                      ]],
        [[                                                          {`-=}                     ]],
		[[                                                           |H|                      ]],
		[[                                                          :IHI:                     ]],
		[[                                                          _IHI_                     ]],
		[[                                                         |``-==|                    ]],
        [[                                                          \_-+/                     ]],
		[[                                            !              NNN                      ]],
		[[                                            |              #NX                      ]],
		[[                                            |             .#NX.                     ]],
		[[                                            n             .NNN.                     ]],
		[[                                            I             :#NX:                     ]],
		[[                                            N             ;#NX;                     ]],
		[[                                           `N`            |#NX|                     ]],
		[[                                           `N`            |#NX|                     ]],
		[[                                           .N.            I#NXI                     ]],
		[[                                           |N|            I#NXI                     ]],
		[[                                          !=!=!           #NNNX       -`)           ]],
		[[     |                  --~.>.             INI           .##NXX.     (# `           ]],
		[[    _I_    ."")       -`/@@/~X`-          .[N].  (`.     ;##NXX;    (##__""'  )     ]],
		[[    _H_   (##_ ~"  _-#.~#/@@@AXX`-.       |#NX| (# .)    ;##NXX;                    ]],
		[[   ._H_.         _-##/-.@-@@.-\-.XX`~_   .A#NXA. (##_  ) |##NXX|   |__ _            ]],
		[[   ._H_.     _-``"`   y "    _~   `_# ``-/##NXX\         I##^XXI  |===|:|       "   ]],
		[[   ,_H_, _--\   /_  % .  _ :__ \  |++|  //`|N|`\\     _  ##/#\XX |"|==|:|           ]],
		[[_...IHI`` _/___`[:]_n_0_|"||==|___|++|./ ___N___ \_n_[:].#/ # \X.|:|==|:|_YYY_r_`T`_]],
	},
	{
		[[                       !                       ]],
		[[                      /^\                      ]],
		[[                    /     \                    ]],
		[[ |               | (       ) |               | ]],
		[[/^\  |          /^\ \     / /^\          |  /^\]],
		[[|O| /^\        (   )|-----|(   )        /^\ |O|]],
		[[|_| |-|    |^-^|---||-----||---|^-^|    |-| |_|]],
		[[|O| |O|    |/^\|/^\||  |  ||/^\|/^\|    |O| |O|]],
		[[|-| |-|    ||_|||_||| /^\ |||_|||_||    |-| |-|]],
		[[|O| |O|    |/^\|/^\||(   )||/^\|/^\|    |O| |O|]],
		[[|-| |-|    ||_|||_||||   ||||_|||_||    |-| |-|]],
		[[|O| |_|----|___|___|||___|||___|_|_|    |O| |O|]],
		[[|_|                                         |_|]],
		[[   /_______________________________________\   ]],
		[[__|_______________________________________|___|]],
	},
	{
		[[ W           ]],
		"[ ]          ",
		[[ E,          ]],
		[[ U\          ]],
		[[ \ \\|/      ]],
		[[  |-( )-     ]],
		[[  | V |      ]],
		[[  L   `.  ___]],
		[[  |     \/  /]],
	},
	{
		[[           W            __  __             ]],
		[[          [ ]          |::||::|            ]],
		[[           3   ._.     |::||::|   ._.      ]],
		[[          /|   |:| ._. |::||::|   |/|      ]],
		[[      \|// /   |:|_|/| |::||::|_  |/|      ]],
		[[     -( )-|    |:|"|/|_|::||::|\|_|/| _    ]],
		[[      J V |    |:|"|/|||::||::|\|||/||:|   ]],
		[[___  '    /  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~]],
		[[\  \/    |        ~~~ ~~~ ~~~~~ ~~~~~      ]],
	},
	{
		[[    W                   __  __             ]],
		[[   [ ]                 |::||::|            ]],
		[[    E          ._.     |::||::|   ._.      ]],
		[[    |\         |:| ._. |::||::|   |/|      ]],
		[[    \ \\|/     |:|_|/| |::||::|_  |/|      ]],
		[[     |-( )-    |:|"|/|_|::||::|\|_|/| _    ]],
		[[     | V L     |:|"|/|||::||::|\|||/||:|   ]],
		[[     \    `  ___   ~~~~~~~~~~~~~~~~~~~~~~~~]],
		[[      |    \/  /      ~~~~ ~~~~ ~~~ ~~~    ]],
	},
	{
		[[+------+.      +------+       +------+       +------+      .+------+]],
		[[|`.    | `.    |\     |\      |      |      /|     /|    .' |    .'|]],
		[[|  `+--+---+   | +----+-+     +------+     +-+----+ |   +---+--+'  |]],
		[[|   |  |   |   | |    | |     |      |     | |    | |   |   |  |   |]],
		[[+---+--+.  |   +-+----+ |     +------+     | +----+-+   |  .+--+---+]],
		[[ `. |    `.|    \|     \|     |      |     |/     |/    |.'    | .' ]],
		[[   `+------+     +------+     +------+     +------+     +------+'   ]],
	},
	{
		[[   .+------+     +------+     +------+     +------+     +------+.   ]],
		[[ .' |    .'|    /|     /|     |      |     |\     |\    |`.    | `. ]],
		[[+---+--+'  |   +-+----+ |     +------+     | +----+-+   |  `+--+---+]],
		[[|   |  |   |   | |    | |     |      |     | |    | |   |   |  |   |]],
		[[|  ,+--+---+   | +----+-+     +------+     +-+----+ |   +---+--+   |]],
		[[|.'    | .'    |/     |/      |      |      \|     \|    `. |   `. |]],
		[[+------+'      +------+       +------+       +------+      `+------+]],
	},
	{
		[[____________   ____________   ____________   ____________]],
		[[|    )    v|   |     o   v|   |     (   v|   |         v|]],
		[[|        .X|   |        .X|   |        .X|   |        .X|]],
		[[|/\     .X#|   |/\     .X#|   |/\     .X#|   |/\     .X#|]],
		[[| ^`\^/\XX#|   | ^`\^/\XX#|   | ^`\^/\XX#|   | ^`\^/\XX#|]],
		[[|` ^ `\X##M|   |` ^ `\X##M|   |` ^ `\X##M|   |` ^ `\X##M|]],
		[[|--.^XX##MM|   |--.^XX##MM|   |--.^XX##MM|   |--.^XX##MM|]],
		[[+----------+   +----------+   +----------+   +----------+]],
		[[ Crescent 1      Full Moon     Crescent 2      New Moon  ]],
	},
	{
		[[  .             *        .     .       .             ]],
		[[       .     _     .     .            .       .      ]],
		[[.    .   _  / |      .        .  *         _  .     .]],
		[[        | \_| |                           | | __     ]],
		[[      _ |     |                   _       | |/  |    ]],
		[[     | \      |      ____        | |     /  |    \   ]],
		[[     |  |     \    +/_\/_\+      | |    /   |     \  ]],
		[[____/____\--...\___ \_||_/ ___...|__\-..|____\____/__]],
		[[      .     .      |_|__|_|         .       .        ]],
		[[   .    . .       _/ /__\ \_ .          .            ]],
		[[      .       .    .           .         .           ]],
	},
	{
		[[         ,                                      ]],
		[[       _=|_                                     ]],
		[[     _[_## ]_                                   ]],
		[[_  +[_[_+_]P/    _    |_       ____      _=--|-~]],
		[[ ~---\_I_I_[=\--~ ~~--[o]--==-|##==]-=-~~  o]H  ]],
	 	 "-~ /[_[_|_]_]\\\\  -_  [[=]]    |====]  __  !j]H  ",
		[[  /    "|"    \      ^U-U^  - |    - ~ .~  U/~  ]],
		[[ ~~--__~~~--__~~-__   H_H_    |_     --   _H_   ]],
		[[-. _  ~~~#######~~~     ~~~-    ~~--  ._ - ~~-= ]],
		[[           ~~~=~~  -~~--  _     . -      _ _ -  ]],
	},
	{
		[[    %%%         ]],
		[[   =====        ]],
		[[  &%&%%%&       ]],
		[[  %& < <%       ]],
		[[   &\__/        ]],
		[[    \ |____     ]],
		[[   .', ,  ()    ]],
		[[  / -.  _)|     ]],
		[[ |_(_.    |     ]],
		[[ '-'\  )  |     ]],
		[[     )    |     ]],
		[[    /  .  ).    ]],
		[[   /    _. |    ]],
		[[ /'---':.-'|    ]],
		[[(__.' /    /    ]],
		[[ \   ( /  /     ]],
		[[  \ /  _  |     ]],
		[[   \  |  '|     ]],
		[[   | . \  |     ]],
		[[   |(     |     ]],
		[[   |  \ \ |     ]],
		[[    \  )\ |     ]],
		[[   __)/ / \     ]],
		[[--"--(_.Ooo'----]],
	},
	{
		[[            ,a_a                        ]],
		[[           {/ ''\_                      ]],
		[[           {\ ,_oo)                     ]],
		[[           {/  (_^_____________________ ]],
		[[ .=.      {/ \___)))*)----------;=====;`]],
		[[(.=.`\   {/   /=;  ~~           |||:::: ]],
		[[    \ `\{/(   \/\               |||:::: ]],
		[[     \  `. `\  ) )              ||||||| ]],
		[[      \    // /_/_              ||||||| ]],
		[[       '==''---))))             ||||||| ]],
	},
	{
		[[============;===========;()]],
		[[            # # # #::::::  ]],
		[[            # # # #::::::  ]],
		[[            # # # #::::::  ]],
		[[            # # # #::::::  ]],
		[[            # # # # # # #  ]],
		[[            # # # # # # #  ]],
		[[            # # # # # # #  ]],
		[[            # # # # # # #  ]],
		[[            # # # # # # #  ]],
		[[            # # # # # # #  ]],
	},
	{
		[[                             o      ]],
		[[                            /\      ]],
		[[                           /::\     ]],
		[[                          /::::\    ]],
		[[            ,a_a         /\::::/\   ]],
		[[           {/ ''\_      /\ \::/\ \  ]],
		[[           {\ ,_oo)    /\ \ \/\ \ \ ]],
		[[           {/  (_^____/  \ \ \ \ \ \]],
		[[ .=.      {/ \___)))*)    \ \ \ \ \/]],
		[[(.=.`\   {/   /=;  ~/      \ \ \ \/ ]],
		[[    \ `\{/(   \/\  /        \ \ \/  ]],
		[[     \  `. `\  ) )           \ \/   ]],
		[[      \    // /_/_            \/    ]],
		[[       '==''---))))                 ]],
	},
	{
		[[                       .|        ,       +              ]],
		[[             *         | |      ((             *        ]],
		[[                       |'|       `    ._____            ]],
		[[         +     ___    |  |   *        |.   |' .---"|    ]],
		[[       _    .-'   '-. |  |     .--'|  ||   | _|    |    ]],
		[[    .-'|  _.|  |    ||   '-__  |   |  |    ||      |    ]],
		[[    |' | |.    |    ||       | |   |  |    ||      |    ]],
		[[ ___|  '-'     '    ""       '-'   '-.'    '`      |____]],
		[[~~~~~~~ ~~~   ~~~~~~~~~~~~  ~~~~~ ~ ~~  ~~~~~~~~~~ ~~~~~]],
		[[~~~~~ ~~~~~~~~~~~~ ~~  ~~~~~~~~~ ~~~~~~~~~~~~~~~~~~~~~~~]],
	},
	{
		[[      _..._            _..._            _..._            _..._            _..._            _..._            _..._            _..._            _..._     ]],
		[[    .:::::::.        .::::. `.        .::::  `.        .::'   `.        .'     `.        .'   `::.        .'  ::::.        .' .::::.        .:::::::.   ]],
		[[   :::::::::::      :::::::.  :      ::::::    :      :::       :      :         :      :       :::      :    ::::::      :  ::::::::      :::::::::::  ]],
		[[   :::::::::::      ::::::::  :      ::::::    :      :::       :      :         :      :       :::      :    ::::::      :  ::::::::      :::::::::::  ]],
		[[   `:::::::::'      `::::::' .'      `:::::   .'      `::.     .'      `.       .'      `.     .::'      `.   :::::'      `. '::::::'      `:::::::::'  ]],
		[[     `':::''          `'::'-'          `'::.-'          `':..-'          `-...-'          `-..:''          `-.::''          `-.::''          `':::''    ]],
		[[                                                                                                                                                        ]],
		[[     NEW MOON     WAXING CRESCENT   FIRST QUARTER    WAXING GIBBOUS     FULL MOON      WANING GIBBOUS   LASST QUARTER   WANING CRESCENT      NEW MOON   ]],
	},
	{
		[[                   _                  ]],
		[[                  (@)                 ]],
		[[              __  ,´                  ]],
		[[              \_\/                    ]],
		[[                ;                     ]],
		[[               )(                     ]],
		[[              /  \                    ]],
		[[__\_________\(    )___\_________\_____]],
		[[________\_____'--' _________\_________]],
		[[____\_________      ____\_________\___]],
		[[_\________\______    _________\_______]],
		[[______\_________\__  _____\_________\_]],
		[[___\________\_______ _\_________\_____]],
	},
	{
		[[        _    .  ,   .           .                      ]],
		[[    *  / \_ *  / \_      _  *        *   /\'__        *]],
		[[      /    \  /    \,   ((        .    _/  /  \  *'.   ]],
		[[ .   /\/\  /\/ :' __ \_  `          _^/  ^/    `--.    ]],
		[[    /    \/  \  _/  \-'\      *    /.' ^_   \_   .'\  *]],
		[[  /\  .-   `. \/     \ /==~=-=~=-=-;.  _/ \ -. `_/   \ ]],
		[[ /  `-.__ ^   / .-'.--\ =-=~_=-=~=^/  _ `--./ .-'  `-  ]],
		[[/ ;      `.  / /       `.~-^=-=~=^=.-'      '-._ `._   ]],
	},
	{
		[[    .                  .-.    .  _   *     _   .                  ]],
		[[           *          /   \     ((       _/ \       *    .        ]],
		[[         _    .   .--'\/\_ \     `      /    \  *    ___          ]],
		[[     *  / \_    _/ ^      \/\'__        /\/\  /\  __/   \ *       ]],
		[[       /    \  /    .'   _/  /  \  *' /    \/  \/ .`'\_/\   .     ]],
		[[  .   /\/\  /\/ :' __  ^/  ^/    `--./.'  ^  `-.\ _    _:\ _      ]],
		[[     /    \/  \  _/  \-' __/.' ^ _   \_   .'\   _/ \ .  __/ \     ]],
		[[   /\  .-   `. \/     \ / -.   _/ \ -. `_/   \ /    `._/  ^  \    ]],
		[[  /  `-.__ ^   / .-'.--'    . /    `--./ .-'  `-.  `-. `.  -  `.  ]],
		[[@/ ;      `.  / /      `-.   /  .-'   / .   .'   \    \  \  .-  \%]],
		[[@&8jgs@@%% @)&@&(88&@.-_=_-=_-=_-=_-=_.8@% &@&&8(8%@%8)(8@%8 8%@)%]],
		[[@88:::&(&8&&8:::::%&`.~-_~~-~~_~-~_~-~~=.'@(&%::::%@8&8)::&#@8::::]],
		[[`::::::8%@@%:::::@%&8:`.=~~-.~~-.~~=..~'8::::::::&@8:::::&8:::::' ]],
		[[ `::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::.'  ]],
	},
	{
		[[+---------------------------------------------------------------------------+]],
		[[|(@@@@)                    (#########)                   (@@@@@@@@(@@@@@@@@@|]],
		[[|@@@@@@)___                 (####)~~~   /\                ~~(@@@@@@@(@@@@@@@|]],
		[[|@@@@@@@@@@)                 ~~~~      /::~-__               ~~~(@@@@@@@@)~~|]],
		[[|@@@)~~~~~~                           /::::::/\                  ~~(@@@@)   |]],
		[[|~~~                              O  /::::::/::~--,                 ~~~~    |]],
		[[|                                 | /:::::/::::::/{                         |]],
		[[|                 |\              |/::::/::::::/:::|                        |]],
		[[|                |:/~\           ||:::/:::::/::::::|                        |]],
		[[|               |,/:::\          ||/'::: /::::::::::|                       |]],
		[[|              |#__--~~\        |'#::,,/::::::::: __|   ,,'`,               |]],
		[[|             |__# :::::\       |-#"":::::::__--~~::| ,'     ',     ,,      |]],
		[[|,    ,,     |____#~~~--\,'',.  |_#____---~~:::::::::|         ',','  ',    |]],
		[[| '.,'  '.,,'|::::##~~~--\    `,||#|::::::_____----~~~|         ,,,     '.''|]],
		[[|____________'----###__:::\_____||#|--~~~~::::: ____--~______,,''___________|]],
		[[|^^^  ^^^^^   |#######\~~~^^O, | ### __-----~~~~_____########'  ^^^^  ^^^   |]],
		[[|,^^^^^','^^^^,|#########\_||\__O###~_######___###########;' ^^^^  ^^^   ^^ |]],
		[[|^^/\/^^^^/\/\^^|#######################################;'/\/\/^^^/\/^^^/\/^|]],
		[[|   /\/\/\/\/\  /\|####################################'      /\/\/\/\/\    |]],
		[[|\/\/\     /\/\/\  /\/\/\/\    /\/\/\/\/\   /\/\/\    /\/\/\/\      /\/\/\/\|]],
		[[|spb\/\/\    /\/\/\/\    /\/\/\/\    /\/\/\/\   /\/\/\/\    /\/\/\/\/\      |]],
		[[+---------------------------------------------------------------------------+]],
	},
	{
		[[             &&                ]],
		[[           &&&&&               ]],
		[[         &&&\/& &&&            ]],
		[[        &&|,/  |/& &&          ]],
		[[         &&/   /  /_&  &&      ]],
		[[           \  {  |_____/_&     ]],
		[[           {  / /          &&& ]],
		[[           `, \{___________/_&&]],
		[[            } }{       \       ]],
		[[            }{{         \__#_& ]],
		[[           {}{           `&\&& ]],
		[[           {{}             &&  ]],
		[[     , -=-~{ .-^- _            ]],
		[[           `}                  ]],
		[[            {                  ]],
	},
	{
		[[  \,`/ /   ]],
		[[ _)..  `_  ]],
		[[( __  -\   ]],
		[[    '`.    ]],
		[[   ( \>_-_,]],
		[[   _||_ ~-/]],
	},
	{
		[[              .                                        ]],
		[[                                                       ]],
		[[              |                                        ]],
		[[     .               /                                 ]],
		[[      \       I                                        ]],
		[[                  /                                    ]],
		[[        \  ,g88R_                                      ]],
		[[          d888(`  ).                   _               ]],
		[[ -  --==  888(     ).=--           .+(`  )`.           ]],
		[[)         Y8P(       '`.          :(   .    )          ]],
		[[        .+(`(      .   )     .--  `.  (    ) )         ]],
		[[       ((    (..__.:'-'   .=(   )   ` _`  ) )          ]],
		[[`.     `(       ) )       (   .  )     (   )  ._       ]],
		[[  )      ` __.:'   )     (   (   ))     `-'.:(`  )     ]],
		[[)  )  ( )       --'       `- __.'         :(      ))   ]],
		[[.-'  (_.'          .')                    `(    )  ))  ]],
		[[                  (_  )                     ` __.:'    ]],
		[[                                        	             ]],
		[[--..,___.--,--'`,---..-.--+--.,,-,,..._.--..-._.-a:f--.]],
	},
}

local headers = {}

-- for i = 10,1,-1 
for i = 1,#header_art, 1
do 
   table.insert(headers, lineToStartGradient(header_art[i]))
end

local function header_chars()
  math.randomseed(os.time())
  return headers[math.random(#headers)]
end

-- Map over the headers, setting a different color for each line.
-- This is done by setting the Highligh to StartLogoN, where N is the row index.
-- Define StartLogo1..StartLogoN to get a nice gradient.
local function header_color()
  local lines = {}
  for i, lineConfig in pairs(header_chars()) do
    local hi = lineConfig.hi
    local line_chars = lineConfig.line
    local line = {
      type = "text",
      val = line_chars,
      opts = {
        hl = hi,
        shrink_margin = false,
        position = "center",
      },
    }
    table.insert(lines, line)
  end

  local output = {
    type = "group",
    val = lines,
    opts = { position = "center", },
  }

  return output
end

local theme = require("alpha.themes.theta")
local config = theme.config
local dashboard = require("alpha.themes.dashboard")
local buttons = {
    type = "group",
    val = {
        { type = "text", val = "Quick links", opts = { hl = "SpecialComment", position = "center" } },
        { type = "padding", val = 1 },
        dashboard.button("e", "  New file", "<cmd>ene<CR>"),
        -- { type = "padding", val = 1 },
		dashboard.button("r", "  recently used files", ":Telescope oldfiles <CR>"),
        -- { type = "padding", val = 1 },
        dashboard.button("SPC ff", "  Find file"),
        -- { type = "padding", val = 1 },
        dashboard.button("SPC lg", "  Find text"),
        { type = "padding", val = 1 },
		dashboard.button("c", "  Configuration", ":e ~/.config/nvim/./<CR>"),
        -- { type = "padding", val = 1 },
        dashboard.button("q", "  Quit", "<cmd>qa<CR>"),
        { type = "padding", val = 2 },
        { type = "text", val = ">--------------------<", opts = { position = "center" } },
    },
    position = "center",
}


config.layout[2] = header_color()
config.layout[6] = buttons
alpha.setup(config)
